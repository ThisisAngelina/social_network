{% load static %}

<div id="post-{{ post.id }}" class="card mb-3 shadow-sm rounded">
    <div class="card-body">

        <!-- User Info Row -->
        <div class="d-flex align-items-center">
            <!-- Placeholder Avatar -->
            <img src="{% static 'network/network_profile_user.jpg' %}" alt="Profile" class="rounded-circle me-2" width="40" height="40">
            <h5 class="card-title mb-0">
                <a href="{% url 'profile' user_id=post.user.id %}" class="text-dark text-decoration-none">
                    {{ post.user }}
                </a>
            </h5>
        </div>

        <!-- Post Content -->
        <p class="mt-2">{{ post.content }}</p>

        <!-- Timestamp -->
        <small class="text-muted">{{ post.timestamp }}</small>

        <!-- Interaction Buttons -->
        <div class="d-flex align-items-center mt-3">
            <span class="text-danger me-2">❤️</span> <span class="me-3">{{ post.like_count }}</span>

            {% if user == post.user %}
            <form>
                <button class="btn btn-primary" 
                        hx-get="{% url 'edit_post' post_id=post.id %}"
                        hx-target="#post-{{ post.id }}"
                        hx-swap="outerHTML"
                        id="edit-btn">
                    <i class="bi bi-pencil-square"></i> Edit
                </button>
            </form>

            {% else %}
                <!-- Like & Comment Buttons -->
                <a href="#" class="text-secondary me-3">
                    <i class="bi bi-hand-thumbs-up"></i> Like
                </a>
                <a href="#" class="text-secondary">
                    <i class="bi bi-chat-dots"></i> Comment
                </a>
            {% endif %}
        </div>

    </div>
</div>
</div>
